<script>
    document.title = "Discussion forum | Support with delivering T Levels"
</script>

<script>
    if (typeof Object.assign != 'function') {
        Object.assign = function (target) {
            'use strict';
            if (target == null) {
                throw new TypeError('Cannot convert undefined or null to object');
            }

            target = Object(target);
            for (var index = 1; index < arguments.length; index++) {
                var source = arguments[index];
                if (source != null) {
                    for (var key in source) {
                        if (Object.prototype.hasOwnProperty.call(source, key)) {
                            target[key] = source[key];
                        }
                    }
                }
            }
            return target;
        };
    }

    (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = "function" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error("Cannot find module '" + i + "'"); throw a.code = "MODULE_NOT_FOUND", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = "function" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({
        1: [function (require, module, exports) {
            module.exports = (function () {
                "use strict";

                var ownKeys = require('reflect.ownkeys')
                var reduce = Function.bind.call(Function.call, Array.prototype.reduce);
                var isEnumerable = Function.bind.call(Function.call, Object.prototype.propertyIsEnumerable);
                var concat = Function.bind.call(Function.call, Array.prototype.concat);

                if (!Object.values) {
                    Object.values = function values(O) {
                        return reduce(ownKeys(O), function (v, k) { return concat(v, typeof k === 'string' && isEnumerable(O, k) ? [O[k]] : []) }, [])
                    }
                }

                if (!Object.entries) {
                    Object.entries = function entries(O) {
                        return reduce(ownKeys(O), function (e, k) { return concat(e, typeof k === 'string' && isEnumerable(O, k) ? [[k, O[k]]] : []) }, [])
                    }
                }

                return Object

            })();

        }, { "reflect.ownkeys": 2 }], 2: [function (require, module, exports) {
            if (typeof Reflect === 'object' && typeof Reflect.ownKeys === 'function') {
                module.exports = Reflect.ownKeys;
            } else if (typeof Object.getOwnPropertySymbols === 'function') {
                module.exports = function Reflect_ownKeys(o) {
                    return (
                        Object.getOwnPropertyNames(o).concat(Object.getOwnPropertySymbols(o))
                    );
                }
            } else {
                module.exports = Object.getOwnPropertyNames;
            }

        }, {}]
    }, {}, [1])
</script>


<div class="govuk-width-container ">
    <!-- Phase banner -->
    <div class="govuk-phase-banner tl-phase-banner tl-phase-banner--home">
        <p class="govuk-phase-banner__content">
            <a href="{{settings.survey_link}}" id="tl-header--feedback-button">
                <strong class="govuk-tag govuk-phase-banner__content__tag">
                    Give feedback
                </strong>
            </a>
            <span class="govuk-phase-banner__text">
                This is a new service - <a class="govuk-link" href="{{settings.survey_link}}" id="tl-header--feedback">help us to improve it</a>
            </span>
        </p>
    </div>
</div>



<!-- Main content -->
 

    <!-- Hero Banner -->
    <div class="tl-hero--community">


        <div class="govuk-width-container" id="tl-breadcrumbs--community">
            <div class="tl-breadcrumbs">
                {{breadcrumbs}}
            </div>
        </div>
        <div class="govuk-width-container">
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-two-thirds">
                    <h1 class="govuk-heading-xl govuk-!-margin-bottom-7">Discussion forum</h1>
                    <label class="tl-hidden" for="query">
                        Search all discussions
                    </label>
                    <div class="tl-form-group tl-search--container tl-search--community" id="tl-search--community--home">

                        <div class="tl-search--error tl-hidden">
                            <span class="tl-error--message"></span>
                        </div>
                        <form role="search" class="tl-search govuk-!-margin-top-2" data-search="" action="/hc/en-gb/search" accept-charset="UTF-8" method="get">
                            <input name="utf8" type="hidden" value="✓"><input type="search" name="query" id="query" placeholder="Search all discussions" aria-label="Search discussions">
                            <input type="hidden" name="filter_by" value="community" />
                            <input type="submit" name="commit" value="Search all discussions">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Community content -->
    <div class="govuk-width-container govuk-!-margin-top-7">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-half">
                <div class="govuk-form-group">
                    <label class="govuk-label" for="tl-community-sortby">Sort by</label>

                    <select name="sortby" class="govuk-select" id="tl-community-sortby" onchange="if (this.value) window.location.href=this.value">
                        {{#each sorters}}
                        {{#is name 'Votes'}}
                        {{else}}
                        <option value="{{url}}" {{#if selected}} selected {{/if}}>
                            {{#is name 'Newest post'}}
                            Newest questions
                            {{else}}
                            {{#is name 'Recent activity'}}
                            Latest activity
                            {{else}}
                            {{#is name 'Comments'}}
                            Most replies
                            {{else}}
                            {{name}}
                            {{/is}}
                            {{/is}}
                            {{/is}}
                        </option>
                        {{/is}}
                        {{/each}}
                    </select>
                </div>
            </div>
            <div class="govuk-grid-column-one-half tl-text--right govuk-!-margin-top-5">
                {{#if signed_in}}
                <a href="#" class="govuk-button govuk-!-margin-bottom-0" id="tl-community--newpost">Post a question</a>


                {{else}}
                {{#link 'new_post' class="govuk-button tl-community--newpost--signin"}}Sign in to post a question{{/link}}</li>
                {{/if}}
            </div>
        </div>

        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">

                <table class="govuk-table">
                    <thead class="govuk-table__head">
                        <tr class="govuk-table__row">
                            <th scope="col" class="govuk-table__header tl-community--table__header">Question</th>
                            <th scope="col" class="govuk-table__header tl-community--table__header">Replies</th>
                        </tr>
                    </thead>
                    <tbody class="govuk-table__body">



                        {{#each posts}}
                        <tr class="govuk-table__row tl-community--table__row">
                            <th scope="row" class="govuk-table__cell">
                                <a href="{{url}}" id="tl-community-home--post" class="govuk-link tl-community-table-post--link">{{title}}</a>
                                <script>
                                  $.getJSON('/api/v2/community/posts/{{id}}.json', function(title) {
                                      $('.{{id}}post').html(title.post.details.replace(/(<([^>]+)>)/gi, "").replace("&nbsp;", " ").substring(0, 75) + '...');
                                  });
                                </script>
                                <div class="{{id}}post govuk-!-margin-top-0 tl-community-table-post--description">
                                </div>
                            </th>
                            <td class="govuk-table__cell">{{comment_count}}</td>

                        </tr>
                        {{/each}}

                    </tbody>
                </table>

                <div class="tl-community--pagination govuk-!-margin-bottom-6">
                    {{pagination}}
                </div>
            </div>
        </div>
    </div>

</main>




